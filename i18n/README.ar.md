[English](../README.md) ยท [ุงูุนุฑุจูุฉ](README.ar.md) ยท [Espaรฑol](README.es.md) ยท [Franรงais](README.fr.md) ยท [ๆฅๆฌ่ช](README.ja.md) ยท [ํ๊ตญ์ด](README.ko.md) ยท [Tiแบฟng Viแปt](README.vi.md) ยท [ไธญๆ (็ฎไฝ)](README.zh-Hans.md) ยท [ไธญๆ๏ผ็น้ซ๏ผ](README.zh-Hant.md) ยท [Deutsch](README.de.md) ยท [ะัััะบะธะน](README.ru.md)


<p align="center">
  <img src="https://raw.githubusercontent.com/lachlanchen/lachlanchen/main/logos/banner.png" alt="LazyingArt banner" />
</p>

# MetaTrader QT - ุจุฏุงูุฉ ููุชุฏุงูู ุงูููู (ููุณูุฉ Micro Quant)

![Python](https://img.shields.io/badge/Python-3.10%2B-3776AB?logo=python&logoColor=white)
![Backend](https://img.shields.io/badge/Backend-Tornado-2d7cbf)
![Database](https://img.shields.io/badge/Database-PostgreSQL-336791?logo=postgresql&logoColor=white)
![Broker](https://img.shields.io/badge/Broker%20Bridge-MetaTrader5-1f6feb)
![UI](https://img.shields.io/badge/UI-Lightweight%20Charts%20%2B%20Chart.js-0ea5e9)
![Status](https://img.shields.io/badge/README-Expanded-success)

## ๐ธ ููุทุฉ ุดุงุดุฉ
![Micro Quant UI](figures/demos/micro-quant-ui.png)

<p align="center">
  <a href="https://my.roboforex.com/en/?a=efx" target="_blank" rel="noopener noreferrer">
    <button style="padding: 0.65rem 1.25rem; font-weight: 600; border-radius: 999px; border: none; color: white; background: #0060ff; cursor: pointer;">
      DATA Source
    </button>
  </a>
</p>

## ๐งญ ูุธุฑุฉ ุนุงูุฉ
ููุณูุฉ Micro Quant ุฃูู ุงุฑุชุจุงุทูุง ุจุงููุงุฌูุงุช ุงููุงูุนุฉ ูุฃูุซุฑ ุชุฑููุฒูุง ุนูู ููุทู ุชุฏุงูู ูุงุจู ููุชูุฑุงุฑ: ูุฌูุจ ุจูุงูุงุช OHLC ูู MetaTrader 5ุ ููุญูุธูุง ูู Postgresุ ุซู ููููู ูุฑุงุฑุงุช ูููุฌูุฉ ุนุจุฑ ุฅุดุงุฑุงุช ูุชุนุฏุฏุฉ ุงูุทุจูุงุช ููุฌููุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู (ุฃุฎุจุงุฑ ุฃุณุงุณูุฉุ ููุทุฉ ุชูููุฉุ ุฎุทุท ุชุฏุงููุ ูุชุฑุงูุจุงุช STL). ุชุนูุณ ุงููุงุฌูุฉ ูุฐู ุงูููุณูุฉ ุนุจุฑ ููุงุชูุญ ุงูุชูุงููุ ูุฃุณุจุงุจ ุงูุฅุบูุงู ุงููุจุฑุฑุฉุ ูุชูุถููุงุช ูุญููุธุฉุ ูููุญุฉ ุชูููุฐ ุบููุฉ ุจุงูุจูุงูุงุช ุจุญูุซ ูููู ููุฎุงุฏู ุชุดุบูู ุชุฏููุงุช ุชุฏุงูู ุฏูุฑูุฉ ุฃู ูุฏููุฉ ูุน ุฅููุงููุฉ ูุญุต ุงูุณุฌูุงุช ูุงูุฃุฏูุฉ.

ุงูุตูุญุฉ ุงูุซุงุจุชุฉ (Quant by Lazying.art) ููุฌูุฏุฉ ุชุญุช `docs/` ููุชู ูุดุฑูุง ุนุจุฑ GitHub Pages (`trade.lazying.art` ูู ุฎูุงู `docs/CNAME`). ูุชุถูู ุงููุณุชูุฏุน ุฃูุถูุง ูุฑุงุฌุน ูุทูุจุงุช AI Trade Planุ ูููุงุญุธุงุช ุงูุชูุงููุ ููุซุงุฆู ุชุดุบูููุฉ.

### ููุญุฉ ุณุฑูุนุฉ
| ุงููุฌุงู | ูุง ุงูุฐู ููุนูู |
|---|---|
| ุงูุจูุงูุงุช | ูุฌูุจ OHLC ูู MT5 ููุญุฏูุซูุง ูู PostgreSQL |
| ุงูุชุญูููุงุช | ูุดุบูู ูุณุงุฑุงุช health/news/tech ู STL |
| ุงุชุฎุงุฐ ุงููุฑุงุฑ | ููุดุฆ ุฎุทุท ุชุฏุงูู AI ูู ุณูุงู ูุชุนุฏุฏ ุงูุทุจูุงุช |
| ุงูุชูููุฐ | ููููุฐ/ูุชุญูู ุจุชุฏููุงุช ุงูุชุฏุงูู ุฎูู ุญูุงุฌุฒ ุฃูุงู |
| ุงููุงุฌูุฉ | ุนุฑูุถ ุณุทุญ ููุชุจ/ููุจุงูู ูุน ูุฒุงููุฉ ุณูุฑ ุนูู ุงูุฑุณูู ุงูุจูุงููุฉ |

## ๐ง ุงูููุณูุฉ ุงูุฃุณุงุณูุฉ
- **ุณูุณูุฉ ุงูุญูููุฉ**: ูุญูุตุงุช ุงูุฃุฎุจุงุฑ ุงูุฃุณุงุณูุฉ (ูุต + ุฏุฑุฌุงุช) ูููุทุงุช Tech (ุณูุงู ุชููู ูุซูู + STL) ุชุบุฐู ุฎุทุฉ ุชุฏุงูู AI ูุงุญุฏุฉ ููู ุฑูุฒ/ุฅุทุงุฑ ุฒููู. ุงูุชุดุบูู ุงูุฏูุฑู ุงูุชููุงุฆู ูุงูุชุดุบูู ุงููุฏูู ุนุจุฑ ุงููุงูุฐุฉ ูุณุชุฎุฏูุงู ููุณ ุฎุท ุงููุนุงูุฌุฉ ูุณุฌูุงุช ุงูุชุจุฑูุฑ.
- **ุชูููุฐ ูุงุฆู ุนูู ุงูุชูุงูู ุฃูููุง**: ููุงุชูุญ Accept-Tech/Hold-Neutralุ ูููุชุงุญ ignore-basicsุ ูุทุจูุงุช partial-close ุชุถูู ุงุชุจุงุน Tech ุจุดูู ููุตูุฏุ ูุฅุบูุงู ุงููุฑุงูุฒ ุงููุนุงูุณุฉ ูุจู ูุชุญ ูุฑุงูุฒ ุฌุฏูุฏุฉ ุนูุฏ ุงูุญุงุฌุฉุ ูุชูููู ุงูุฎุฑูุฌ ุบูุฑ ุงูุถุฑูุฑู.
- **ุจูุงูุงุช ุบูุฑ ูุงุจูุฉ ููุชูู**: ูู ุนูููุฉ ุฌูุจ ุชููุชุจ ุฅูู Postgres ูุน ููุงุนุฏ `ON CONFLICT`ุ ุจูููุง `/api/data` ููุฑุฃ ุณูุงุณู ููููุงุฉ ูููุงุฌูุฉ. ุงูุชูุถููุงุช (ุฃุญุฌุงู autoุ ู`close_fraction`ุ ูููุงุชูุญ ุฅุฎูุงุก techุ ูSTL auto-compute) ุชูุญูุธ ุนุจุฑ `/api/preferences`.
- **ุชุฏุงูู ูุงุฆู ุนูู ุงูุฃูุงู ุฃูููุง**: `TRADING_ENABLED` ู`safe_max` ููุฑุถุงู ุตูุงุญูุงุช ุงูุชุฏุงูู ุงููุฏูู/ุงูุชููุงุฆู. ูููู ูู`/api/close` ูุงููุดุบูุงุช ุงูุฏูุฑูุฉ ุชุณุฌูู ุฃุณุจุงุจ ุงูุฅุบูุงู (tech neutralุ ุนุฏู ุงูุชูุงููุ ุฅูุฎ) ูุฃุบุฑุงุถ ุงูุชุชุจุน.

## โจ ุงูููุฒุงุช
- ุฅุฏุฎุงู OHLC ูู MT5 ุฅูู Postgres (`/api/fetch`, `/api/fetch_bulk`).
- ูุงุฌูุฉ ุงูุฑุณูู ุนูุฏ `/` (ุณุทุญ ุงูููุชุจ) ู`/app` (ุงูููุจุงูู)ุ ุจุงุณุชุฎุฏุงู Chart.js + Lightweight Charts ูู ุงูููุงูุจ.
- ูุณุงุฑุงุช ุชุญููู STL (`/api/stl`, `/api/stl/compute`, ูููุงุท ููุงูุฉ prune/delete).
- ุฌูุจ ุงูุฃุฎุจุงุฑ ูุชุญููููุง (`/api/news`, `/api/news/backfill_forex`, `/api/news/analyze`).
- ุชูุณูู ูุณุงุฑุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู (`/api/health/run`, `/api/health/runs`, `/api/ai/trade_plan`).
- ุชูููุฐ ุชุฏุงูู ูุฏูู (`/api/trade`, `/api/trade/execute_plan`) ูุญูู ุนุจุฑ `TRADING_ENABLED`.
- ุนูููุงุช ูุฎุงุทุฑ ุงููุฑุงูุฒ (`/api/positions*`, `/api/close`, `/api/close_tickets`) ูุน ุงูุณูุงุญ ุจุนูููุงุช ุงูุฅุบูุงู ููุฃูุงู.
- ุชุฏูู ุชุญุฏูุซุงุช WebSocket ุนูุฏ `/ws/updates`.

## ๐๏ธ ูููู ุงููุดุฑูุน
```text
metatrader_qt/
โโโ app/
โ   โโโ server.py                # Tornado app, routes, orchestration
โ   โโโ db.py                    # asyncpg access layer + schema init
โ   โโโ mt5_client.py            # MetaTrader5 bridge + order/data operations
โ   โโโ news_fetcher.py          # FMP/AlphaVantage aggregation/filtering
โ   โโโ strategy.py              # SMA crossover helper
โโโ templates/
โ   โโโ index.html               # Main desktop UI
โ   โโโ mobile.html              # Mobile-oriented UI
โโโ static/                      # PWA assets (icons/manifest/service worker)
โโโ sql/
โ   โโโ schema.sql               # Core DB schema
โโโ scripts/
โ   โโโ test_mixed_ai.py         # Mixed AI smoke test
โ   โโโ test_fmp.py              # FMP smoke test
โ   โโโ test_fmp_endpoints.py    # FMP endpoint probe script
โ   โโโ setup_windows.ps1        # Windows env bootstrap
โ   โโโ run_windows.ps1          # Windows run helper
โ   โโโ bootstrap_venv311.sh     # Linux/mac Python 3.11 helper
โโโ docs/                        # GitHub Pages landing site
โโโ references/                  # Operational/setup notes
โโโ strategies/llm/              # Prompt/config JSON files
โโโ llm_model/echomind/          # LLM provider wrappers
โโโ i18n/                        # Present (currently empty)
โโโ .github/FUNDING.yml          # Sponsor/support metadata
โโโ README.md + README.*.md      # Canonical + multilingual docs
```

## โ ุงููุชุทูุจุงุช ุงููุณุจูุฉ
- Ubuntu/Linux ุฃู Windows.
- ุชุซุจูุช MT5 ูุฅููุงููุฉ ุงููุตูู ุฅููู (`terminal64.exe`) ูุน ุชุดุบูู ุงูุทุฑููุฉ ูุชุณุฌูู ุงูุฏุฎูู.
- Python 3.10+ (ููููุถูู 3.11 ูุชูุงูู MetaTrader5).
- ูุซูู PostgreSQL.

## ๐๏ธ ุงูุชุซุจูุช

### Windows (PowerShell)
```powershell
# 1) Create venv with Python 3.11 (MetaTrader5 has no wheels for 3.13 yet)
py -3.11 -m venv .venv
.\.venv\Scripts\Activate.ps1
pip install --upgrade pip
pip install -r requirements.txt

# 2) Configure env
Copy-Item .env.example .env
# Edit .env and set DATABASE_URL, MT5_PATH (e.g. C:\Program Files\MetaTrader 5\terminal64.exe), and your MT5 demo creds
# Load env for this session
Get-Content .env | Where-Object { $_ -and $_ -notmatch '^#' } | ForEach-Object { $n,$v = $_ -split '=',2; [Environment]::SetEnvironmentVariable($n, $v, 'Process') }

# 3) Run app
python -m app.server
# Open http://localhost:8888
```

Helper scripts:
```powershell
scripts\setup_windows.ps1
scripts\run_windows.ps1
```

### Linux/macOS (bash)
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt

# Alternative: local 3.11 venv (if your global/Conda Python is 3.13)
# Requires python3.11 on your system
# sudo apt install python3.11 python3.11-venv
bash scripts/bootstrap_venv311.sh
source .venv311/bin/activate

# DB (use your own user/password as needed)
# createdb -h localhost -p 5432 -U lachlan metatrader_db

# Configure env
cp .env.example .env
# edit .env with your MT5 path and credentials
set -a; source .env; set +a

# Run app
python -m app.server
# Open http://localhost:8888
```

## โ๏ธ ุงูุฅุนุฏุงุฏ
ุงูุณุฎ `.env.example` ุฅูู `.env` ุซู ุนุฏูู ุงูููู.

### ุงููุชุบูุฑุงุช ุงูุฃุณุงุณูุฉ
| Variable | Purpose |
|---|---|
| `DATABASE_URL` | Preferred PostgreSQL DSN |
| `DATABASE_MT_URL` | Fallback DSN if `DATABASE_URL` unset |
| `DATABASE_QT_URL` | Secondary fallback DSN |
| `MT5_PATH` | Path to `terminal64.exe` (Wine or native) |
| `MT5_LOGIN` / `MT5_PASSWORD` / `MT5_SERVER` | Optional if MT5 terminal session is already logged in |
| `PORT` | Server port (default `8888`) |

### ูุชุบูุฑุงุช ุงุฎุชูุงุฑูุฉ
- `FMP_API_KEY`, `ALPHAVANTAGE_API_KEY` ูุฅุซุฑุงุก ุงูุฃุฎุจุงุฑ.
- `TRADING_ENABLED` (ุงูุงูุชุฑุงุถู `0`ุ ุงุถุจุทู ุนูู `1` ููุณูุงุญ ุจููุงุท ููุงูุฉ ุชูููุฐ ุงูุฃูุงูุฑ).
- `TRADING_VOLUME` (ุญุฌู ุงูุชุฏุงูู ุงููุฏูู ุงูุงูุชุฑุงุถู).
- `AUTO_FETCH`, `AUTO_FETCH_SYMBOL`, `AUTO_FETCH_TF`, `AUTO_FETCH_COUNT`, `AUTO_FETCH_SEC`.
- `PIN_DEFAULTS_TO_XAU_H1=1` ููุฑุถ ุฑูุฒ/ุฅุทุงุฑ ุฒููู ุงูุชุฑุงุถู ุนูุฏ ุจุฏุก ุงููุงุฌูุฉ.
- `LOG_LEVEL`, `LOG_BACKFILL`ุ ุฅุถุงูุฉ ุฅูู ุชูุถููุงุช ุงูุญุณุงุจ/ุงูุงุณุชุทูุงุน ุนุจุฑ `/api/preferences` ูุงูุจูุฆุฉ.

ููุงุญุธุงุช:
- ูุฌุจ ุฃู ูุดูุฑ `MT5_PATH` ุฅูู `terminal64.exe` ุถูู Wine prefix ุงููุณุชุฎุฏู ูู ุณูุฑุจุช ุชุซุจูุช MT5.
- ููููู ุญุฐู ุจูุงูุงุช ุงุนุชูุงุฏ MT5 ุฅุฐุง ูุงูุช ุฌูุณุฉ ุงูุทุฑููุฉ ูุณุฌูู ุฏุฎูููุง ูุณุจููุงุ ุณูุญุงูู ุงูุชุทุจูู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงู ุชูู ุงูุฌูุณุฉ.

## ๐ ุงูุงุณุชุฎุฏุงู

### ุชุดุบูู ุงูุฎุงุฏู
```bash
python -m app.server
```

### ูุชุญ ุงููุงุฌูุฉ
- ูุงุฌูุฉ ุณุทุญ ุงูููุชุจ: `http://localhost:8888/`
- ูุงุฌูุฉ ุงูููุจุงูู: `http://localhost:8888/app`

### ุณูุฑ ุงูุนูู ุงูุดุงุฆุน
1. ุฌูุจ ุงูุดููุน ูู MT5 ูุญูุธูุง ูู Postgres.
2. ูุฑุงุกุฉ ุงูุดููุน ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุนุฑุถ ุงูุจูุงูู.
3. ุชุดุบูู ุชุญูููุงุช health/tech/news.
4. ุชูููุฏ AI trade plan.
5. ุชูููุฐ ุงููุฑุงูุฒ ุฃู ุฅุบูุงููุง ุถูู ุญูุงุฌุฒ ุงูุฃูุงู.

## ๐ ููุงุท API (ุนููููุง)
- `GET /api/fetch?symbol=XAUUSD&tf=H1&count=500[&mode=inc|full][&persist=1]`
  - ุฌูุจ ุงูุจูุงูุงุช ูู MT5 ูupsert ุฅูู DB.
  - ุนูุฏ `persist=1`ุ ูุญูุธ ุงูุฎุงุฏู ุงูุฅุนุฏุงุฏุงุช ุงูุงูุชุฑุงุถูุฉ `last_symbol/last_tf/last_count`ุ ูุฌุจ ุฃู ุชุชุฌูุจ ุนูููุงุช ุงูุฌูุจ ุงููุฌูุนุฉ/ุงูุฎูููุฉ ูุฐุง ุงูุฎูุงุฑ ุญุชู ูุง ุชุณุชุจุฏู ุงุฎุชูุงุฑุงุช ุงููุงุฌูุฉ.
- `GET /api/fetch_bulk` โ ุฅุฏุฎุงู ูุฌููุน/ูุฌุฏูู.
- `GET /api/data?symbol=XAUUSD&tf=H1&limit=500` โ ูุฑุงุกุฉ ุจูุงูุงุช ุงูุฑุณู ูู DB.
- `GET /api/strategy/run?symbol=XAUUSD&tf=H1&fast=20&slow=50`
  - ูุดุบูู SMA(20/50) crossover ูููุนูุฏ signal payload.
  - ููุงุญุธุฉ ุชูููุฐูุฉ ูููุฉ: ุชูููุฐ ุงูุฃูุงูุฑ ูู ูุฐู ุงูููุทุฉ ุงูุทุฑููุฉ ุงููุนุชูุฏุฉ ุนูู ุงูุงุณุชุฑุงุชูุฌูุฉ ููุนุทูู ุญุงูููุง ูู ููุฏ ุงูุฎุงุฏูุ ุชูููุฐ ุงูุฃูุงูุฑ ูุชู ุนุจุฑ ููุงุท trade.
- `POST /api/trade` โ Buy/Sell ูุฏูู ูู ุงููุงุฌูุฉุ ูุญููู ุจู `TRADING_ENABLED`.
- `POST /api/trade/execute_plan` โ ููููุฐ ุฎุทุฉ ููููุฏุฉุ ููุชุถูู ูุญูุตุงุช pre-close ูstop-distance.
- `POST /api/close` โ ุฅุบูุงู ุงููุฑุงูุฒ (ูุณููุญ ุญุชู ุนูุฏ `TRADING_ENABLED=0` ููุฃูุงู):
  - ุงูุฑูุฒ ุงูุญุงูู: form body ุจุตูุบุฉ `symbol=...`ุ ุงุฎุชูุงุฑู `side=long|short|both`.
  - ูู ุงูุฑููุฒ: `?scope=all` ูุน ุงุฎุชูุงุฑู `&side=...`.
  - ุงูุงุณุชุฌุงุจุฉ ุชุชุถูู `closed_count` ููุชุงุฆุฌ ูู ticket.
- `POST /api/close_tickets` โ ุฅุบูุงู ูุฌููุนุฉ ูุญุฏุฏุฉ ุญุณุจ ticket.
- `GET /api/positions`, `GET /api/positions/all`.
- `GET /api/stl`, `POST /api/stl/compute`, `POST /api/stl/prune`, `POST /api/stl/prune_all`, `DELETE /api/stl/run/{id}`.
- `GET /api/news`, `POST /api/news/backfill_forex`, `POST /api/news/analyze`.
- `GET /api/health/freshness`, `GET /api/tech/freshness`, `GET|POST /api/health/run`, `GET /api/health/runs`.
- `POST /api/preferences` ูุงุณุชุฑุฌุงุน ุงูุชูุถููุงุช ุฐุงุช ุงูุตูุฉ.
- `GET /api/ai/trade_plan`.
- `GET /api/accounts`, `GET /api/account/current`, `POST /api/account/login`.
- `GET /ws/updates`.

## ๐งช ุฃูุซูุฉ
```bash
# Fetch 500 H1 bars for XAUUSD
curl "http://localhost:8888/api/fetch?symbol=XAUUSD&tf=H1&count=500"

# Read 200 bars from DB
curl "http://localhost:8888/api/data?symbol=XAUUSD&tf=H1&limit=200"

# Run SMA signal calculation
curl "http://localhost:8888/api/strategy/run?symbol=XAUUSD&tf=H1&fast=20&slow=50"

# Close current symbol long positions
curl -X POST "http://localhost:8888/api/close" -d "symbol=XAUUSD&side=long"

# Close all short positions across symbols
curl -X POST "http://localhost:8888/api/close?scope=all&side=short"
```

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงููุฎุทุท
ุฑุงุฌุน `sql/schema.sql`.

ุฃุจุฑุฒ ุงูููุงุท:
- ุงูููุชุงุญ ุงูุฃุณุงุณู ุงููุฑูุจ `(symbol, timeframe, ts)` ูู `ohlc_bars` ูููุน ุชูุฑุงุฑ ุงูุดููุน.
- ุงูุฅุฏุฎุงู ูุณุชุฎุฏู `ON CONFLICT ... DO UPDATE`.
- ุฌุฏุงูู ุฅุถุงููุฉ ุชุฏุนู ุชุดุบููุงุช/ูููููุงุช STLุ ูุงูุชูุถููุงุชุ ูููุงูุงุช ุงูุฃุฎุจุงุฑุ ูุชุดุบููุงุช healthุ ูุณูุงุณู ุงูุญุณุงุจุงุชุ ูุงูุตููุงุช ุงููุบููุฉุ ูุฑุจุท ุงูุฅุดุงุฑุงุช ุจุฎุทุท/ุฃูุงูุฑ ุงูุชุฏุงูู.

## ๐ก๏ธ ุถูุงุจุท ุงูุชุฏุงูู ูุงูุฃูุงู
- ุญูุงูุฉ ุจูุฆูุฉ: `TRADING_ENABLED=0` ุงูุชุฑุงุถููุง ูุนุทูู ูุถุน ุงูุฃูุงูุฑ ุนุจุฑ ููุงุท ุงูุชูููุฐ ุงููุฏูู/ุงูุฎุทุฉ.
- ุณููู ุฑุฃุณ `Auto` ูู ุงููุงุฌูุฉ ูุฌุฏูู ูุญูุตุงุช ุงูุงุณุชุฑุงุชูุฌูุฉุ ูููู ูุง ูุชุฌุงูุฒ ุจูุงุจุงุช ุฃูุงู ุงูุชุฏุงูู.
- ุนูููุงุช ุงูุฅุบูุงู ูุณููุญุฉ ุนูุฏูุง ุญุชู ุนูุฏ ุชุนุทูู ุงูุชุฏุงูู.
- ูุชู ุงุณุชุฎุฏุงู safe-max ูุฃูุฒุงู ุงูุฑูุฒ/ุงูููุน ุถูู ุชุฏููุงุช ุงูุชูููุฐ ููุญุฏ ูู ุงูุงููุดุงู.

## ๐ ููุชุงุญ STL Auto-Compute
- ูุชู ุงูุชุญูู ูู STL auto-compute ููู symbol x timeframe ุนุจุฑ ููุชุงุญ `Auto STL` ูู ููุญุฉ STL.
- ุงูุงูุชุฑุงุถู ูู OFF ูุชูููู ุจุทุก ุงููุงุฌูุฉ ูู ุงูุณูุงูุงุช ุงููุจูุฑุฉ/ุงูุจุทูุฆุฉ.
- ุนูุฏ ONุ ูููู ุญุณุงุจ STL ุชููุงุฆููุง ุฅุฐุง ูุงู ููููุฏูุง/ูุฏูููุงุ ูุฅูุง ุงุณุชุฎุฏู ุฃุฏูุงุช ุฅุนุงุฏุฉ ุงูุญุณุงุจ ุงููุฏููุฉ.
- ุงูุญุงูุฉ ุชูุญููุธ ุนุจุฑ ููุงุชูุญ `/api/preferences` ูุซู `stl_auto_compute:SYMBOL:TF` ููุฐูู ูู local storage ูุชุณุฑูุน ุงูุฅููุงุน.

## ๐งท ุชุฐูุฑ ุขุฎุฑ ุงุฎุชูุงุฑ
- ุงูุฎุงุฏู ูุญูุธ `last_symbol`, `last_tf`, `last_count` ููุญูู ุงูููู ุงูุงูุชุฑุงุถูุฉ ูู ุงูููุงูุจ.
- ุงููุงุฌูุฉ ุชุฎุฒูู ุฃูุถูุง `last_symbol`/`last_tf` ูู `localStorage`.
- `/?reset=1` ูุชุฌุงูู ุงูุชูุถููุงุช ุงููุญููุธุฉ ููุฐู ุงูุญูููุฉ ููุท.
- ูููู ูู `PIN_DEFAULTS_TO_XAU_H1=1` ูุฑุถ ุฅุนุฏุงุฏุงุช ุจุฏุก ุงูุชุดุบูู.

## ๐ค ุณูุงู AI Trade Plan Prompt
ุนูุฏ ุทูุจ AI trade planุ ูุชุฃูุฏ ุงูุฎุงุฏู ูู ูุฌูุฏ ุชุดุบููุงุช ุญุฏูุซุฉ ูู Basic Health ูTech Snapshot ููุฑูุฒ/ุงูุฅุทุงุฑ ุงูุญุงูู (ููููุดุฆูุง ุฅุฐุง ูุงูุช ููููุฏุฉ)ุ ุซู ูุจูู ุณูุงู ุงูุทูุจ ูู:
- Basic health block,
- Tech AI block,
- Live technical snapshot block.

## ๐งฐ ููุงุญุธุงุช ุงูุชุทููุฑ
- ุงุนุชูุงุฏูุงุช ุงูุชุดุบูู ุงูุฃุณุงุณูุฉ: `tornado`, `asyncpg`, `MetaTrader5`, `numpy`, `python-dotenv`, `requests`, `httpx`, `statsmodels`, `openai`.
- ูุง ุชูุฌุฏ ุญุงูููุง ูุฌููุนุฉ ุงุฎุชุจุงุฑุงุช ุขููุฉ ุฑุณููุฉุ ูุนุชูุฏ ุณูุฑ ุงูุนูู ุนูู ุงุฎุชุจุงุฑุงุช smoke ูุงูุชุญูู ุงููุฏูู ูู ุงููุงุฌูุฉ.
- ุงุฎุชุจุงุฑุงุช smoke ุงูููุตู ุจูุง:
  - `python scripts/test_mixed_ai.py`
  - `python scripts/test_fmp.py`
  - `python scripts/test_fmp_endpoints.py`
- ูุญูุตุงุช ูุฏููุฉ ูุจู ุงูุฑูุน:
  - ูุฒุงููุฉ pan/zoomุ
  - ุณููู STL overlay/period linesุ
  - ุถูุงุจุท ุงูุชุฏุงูู (ุจูุง ูููุง ุณููู ุฃูุงู ุงูุฅุบูุงู)ุ
  - ุณููู fallback ูู ููุญุฉ ุงูุฃุฎุจุงุฑ.

## ๐งฏ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง
| Symptom | Action |
|---|---|
| MT5 initialize failed | Set `MT5_PATH` to exact `terminal64.exe`, then run terminal manually at least once |
| MT5 login failed | Ensure `MT5_SERVER` exactly matches terminal server string, or omit credentials and reuse an active session |
| No data for symbol | Verify broker symbol naming and Market Watch visibility (`XAUUSD`, `XAUUSD.a`, `GOLD`, etc.) |
| Postgres connection issues | Verify `DATABASE_URL`, then run `psql "$DATABASE_URL" -c 'select 1;'` |
| Slow or stale UI analytics | Disable auto STL on heavy pairs/TFs and recalc manually |

## ๐ฃ๏ธ ุฎุงุฑุทุฉ ุงูุทุฑูู
- ุชูุณูุน ุฃุตูู ุชุดุบูู `i18n/` ุฅูู ูุง ูู ุฃุจุนุฏ ูู ูุซุงุฆู README ูุชุนุฏุฏุฉ ุงููุบุงุช.
- ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ุขููุฉ ุฑุณููุฉ (API + ุชูุงูู + ุฃุชูุชุฉ smoke ูููุงุฌูุฉ).
- ุชุญุณูู ุญุฒู ุงููุดุฑ ููููุงุช ุงูุจูุฆุฉ ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุฅูุชุงุฌ.
- ุงูุงุณุชูุฑุงุฑ ูู ุชุญุณูู ุงูุชุญูู ูู ุฎุทุท AI ูุถูุงูุงุช ุงูุชูููุฐ.

## ๐ค ุงููุณุงููุฉ
- ุงุฌุนู ุงูุชุนุฏููุงุช ุตุบูุฑุฉ ููุญุฏุฏุฉ.
- ุงุณุชุฎุฏู ุจุงุฏุฆุงุช commit ูุงุถุญุฉ ุนูุฏ ุงูุญุงุฌุฉ (ูุซู: `UI: ...`, `Server: ...`, `References: ...`).
- ุชุฌูุจ ุชุบููุฑุงุช ุงูุชูุณูู ุบูุฑ ุงููุฑุชุจุทุฉ.
- ุฃุฑูู ููุทุงุช ุดุงุดุฉ/GIF ูุชุบููุฑุงุช ุงููุงุฌูุฉ ุนูุฏ ุงูููุงุกูุฉ.
- ุดุบูู smoke tests ูุชุญูู ูู ุงููุชุตูุญ ูุญูููุง ูุจู PR.

## โค๏ธ ุงูุฏุนู / ุงูุฑุนุงูุฉ
ุฑูุงุจุท ุงูุฏุนู ูุงูุฑุนุงูุฉ ูุถุจูุทุฉ ูู `.github/FUNDING.yml`:
- GitHub Sponsors: https://github.com/sponsors/lachlanchen
- Lazying.art: https://lazying.art
- Chat: https://chat.lazying.art
- OnlyIdeas: https://onlyideas.art

## ๐ ุงููุฑุงุฌุน
- `references/ai-trader-overview.md`
- `references/database_setup_postgres.md`
- `references/mt5_python_setup_ubuntu.md`
- `references/mt4_vs_mt5.md`
- `references/llm_trading_system.md`
- `references/release_deploy.md`
- `references/pnl_debugging.md`

## ๐ ุงูุชุฑุฎูุต
ูุง ููุฌุฏ ููู `LICENSE` ูู ูุฐุง ุงููุณุชูุฏุน ุญุชู ุชุงุฑูุฎ 2026-02-28.

Assumption: ุดุฑูุท ุงูุชุฑุฎูุต ุบูุฑ ูุญุฏุฏุฉ ุญุงูููุง ุฏุงุฎู ุงููุณุชูุฏุนุ ุฃุจูู ูุฐู ุงูููุงุญุธุฉ ุญุชู ูุถูู ุงููุดุฑููู ููู ุชุฑุฎูุต ุตุฑูุญ.
